<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <style>
            body{
                background-color: aqua;
                margin: 0 ;
                padding: 0;
            }
            .container{
            width: 20%;
            height: 350px;
            border: 1px solid black;
            background-color: white;
            border-radius: 5px;
            margin: 20px auto;
            line-height: 30px;
            }
            h1{
                text-align: center;
            }
            label{
                margin-left: 10px;
                font-size: 20px;
            }
            input{
                margin-left: 10px;
                width: 90%;
                height: 30px;
                border-radius: 5px;
            }
            button{
                margin-left: 10px;
                width: 90%;
                height: 40px;
                border: none;
                border-radius: 5px;
                background-color: blue;
                color: white;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1>Register</h1>

            <label for>Email:</label><br>
            <input type="text" name id="email"><br>
            <label for>Password:</label><br>
            <input type="text" name id="pass"><br>
            <label for>Confirm Password:</label><br>
            <input type="text" name id="confirm"><br><br>
            <button onclick="register()">Đăng kí</button>
        </div>
        <script>
            let users = JSON.parse(localStorage.getItem("user"))||[];
            function register(){
                let emailValue , passValue , confirmValue ;
                emailValue = document.getElementById("email").value;
                passValue = document.getElementById("pass").value;
                confirmValue = document.getElementById("confirm").value;
                let checkEmail = users.findIndex(i => i.email == emailValue);
                if(!(emailValue.endsWith("@gmail.com")) ||  checkEmail != -1){
                    alert("email không hợp lệ hoặc tồn tại ");
                    return;
                }
                if(passValue !== confirmValue){
                    alert("mật khẩu không trùng khớp");
                }

                let user = {
                    email : emailValue,
                    pass : passValue
                }
                users.push(user);
                localStorage.setItem("users", JSON.stringify(users));
                window.location.href="./bai3.html";
            }
        </script>
    </body>
</html>